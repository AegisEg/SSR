{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\ArticlesElements\\\\Articles.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// App\nimport React from \"react\"; // Article\n\nimport Article from \"./Article\";\nimport Pagination from \"../Elements/Pagination\";\nimport ArticleHeader from \"./Partials/ArticleHeader\";\nimport configApi from \"../config/api\";\nimport Loading from \"../Elements/Loading\";\nimport { CSSTransitionGroup } from \"react-transition-group\";\n\nclass Articles extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      articles: [],\n      currentPage: 0,\n      pageCount: false,\n      isFething: false\n    });\n  }\n\n  getAricles(page = 0) {\n    this.setState({\n      isFething: true\n    }, () => {\n      fetch(`${configApi.urlApi}/api/article/getArticles`, {\n        method: \"post\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          filter: this.props.filter,\n          page: page\n        })\n      }).then(response => response.json()).then(data => {\n        if (data.articles) {\n          this.setState({\n            pageCount: data.pageAll,\n            currentPage: page,\n            articles: data.articles,\n            isFething: false\n          });\n        }\n      });\n    });\n  }\n\n  setPage(selected) {\n    if (selected !== this.state.currentPage) {\n      this.getAricles(selected);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"articles-block\",\n      children: [/*#__PURE__*/_jsxDEV(ArticleHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Loading, {\n        isLoading: this.state.isFething\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CSSTransitionGroup, {\n        transitionName: \"height-animation-item\",\n        transitionEnterTimeout: 500,\n        transitionLeaveTimeout: 1,\n        style: {\n          display: \"contents\"\n        },\n        children: this.state.articles.map((article, i) => {\n          return /*#__PURE__*/_jsxDEV(Article, {\n            IsManage: this.props.isManage || article.status === 2,\n            notControl: this.props.notControl,\n            notLink: this.props.onlyPublic && article.status !== 2,\n            article: article\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), !this.state.articles.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3\",\n        children: \"\\u0417\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), !!this.state.articles.length && /*#__PURE__*/_jsxDEV(Pagination, {\n        currentPage: this.state.currentPage,\n        pageCount: this.state.pageCount - 1,\n        onPageChange: this.setPage.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport async function getServerSideProps(context) {\n  return {\n    props: {} // will be passed to the page component as props\n\n  };\n}\nexport default Articles;","map":{"version":3,"sources":["E:/SSR/ArticlesElements/Articles.js"],"names":["React","Article","Pagination","ArticleHeader","configApi","Loading","CSSTransitionGroup","Articles","Component","articles","currentPage","pageCount","isFething","getAricles","page","setState","fetch","urlApi","method","headers","Accept","body","JSON","stringify","filter","props","then","response","json","data","pageAll","setPage","selected","state","render","display","map","article","i","isManage","status","notControl","onlyPublic","length","bind","getServerSideProps","context"],"mappings":"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","sourcesContent":["// App\r\nimport React from \"react\";\r\n\r\n// Article\r\nimport Article from \"./Article\";\r\nimport Pagination from \"../Elements/Pagination\";\r\nimport ArticleHeader from \"./Partials/ArticleHeader\";\r\nimport configApi from \"../config/api\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nclass Articles extends React.Component {\r\n  state = {\r\n    articles: [],\r\n    currentPage: 0,\r\n    pageCount: false,\r\n    isFething: false,\r\n  };\r\n  getAricles(page = 0) {\r\n    this.setState({ isFething: true }, () => {\r\n      fetch(`${configApi.urlApi}/api/article/getArticles`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          filter: this.props.filter,\r\n          page: page,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.articles) {\r\n            this.setState({\r\n              pageCount: data.pageAll,\r\n              currentPage: page,\r\n              articles: data.articles,\r\n              isFething: false,\r\n            });\r\n          }\r\n        });\r\n    });\r\n  }\r\n  setPage(selected) {\r\n    if (selected !== this.state.currentPage) {\r\n      this.getAricles(selected);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"articles-block\">\r\n        <ArticleHeader></ArticleHeader>\r\n        <Loading isLoading={this.state.isFething}></Loading>\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {this.state.articles.map((article, i) => {\r\n            return (\r\n              <Article\r\n                IsManage={this.props.isManage || article.status === 2}\r\n                notControl={this.props.notControl}\r\n                notLink={this.props.onlyPublic && article.status !== 2}\r\n                key={i}\r\n                article={article}\r\n              />\r\n            );\r\n          })}\r\n        </CSSTransitionGroup>\r\n        {!this.state.articles.length && (\r\n          <div className=\"text-center py-3\">Записей не найдено</div>\r\n        )}\r\n        {!!this.state.articles.length && (\r\n          <Pagination\r\n            currentPage={this.state.currentPage}\r\n            pageCount={this.state.pageCount - 1}\r\n            onPageChange={this.setPage.bind(this)}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport async function getServerSideProps(context) {\r\n  return {\r\n    props: {}, // will be passed to the page component as props\r\n  };\r\n}\r\nexport default Articles;\r\n"]},"metadata":{},"sourceType":"module"}