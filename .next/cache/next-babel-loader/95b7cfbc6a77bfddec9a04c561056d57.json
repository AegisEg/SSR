{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\Partials\\\\Header.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport addIcon from \"../img/add-icon.svg\"; // App\n\nimport React from \"react\";\nimport FeedbackModal from \"../Modal/FeedbackModal\"; // Redux\n\nimport { connect } from \"react-redux\";\nimport * as userActions from \"../redux/actions/user\";\nimport * as notificationActions from \"../redux/actions/notification\";\nimport { bindActionCreators } from \"redux\"; // Redux\n\nimport Link from \"../Elements/Link\";\nimport menu from \"../config/sideMenu\";\nimport Notification from \"../Elements/Notification\";\nimport { withCookies } from \"react-cookie\"; // Elements\n\nimport Button from \"../Elements/Button\";\nimport MenuNav from \"./MenuNav\";\nimport TariffStatus from \"../Partials/TariffStatus\";\nimport MobileMenu from \"./MobileMenu\"; //IMG\n\nimport Logo from \"../img/logo.svg\";\nimport Minilogo from \"../img/logoMobile.svg\";\nimport Smallminilogo from \"../img/mini-logo.svg\";\nimport notificationsFill from \"../img/notifications-fill.png\";\nimport Support from \"../img/support.svg\";\nimport ArrowDown from \"../img/arrowDown.png\";\nimport ImgActiveStar from \"../img/active-star.png\";\n\nvar Header = /*#__PURE__*/function (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  var _super = _createSuper(Header);\n\n  function Header() {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      showModal: false,\n      showMobile: false,\n      showProfileMenu: false,\n      showNotificationsPop: false,\n      showMessagesPop: false\n    });\n\n    _this.showProfileMenu = _this.showProfileMenu.bind(_assertThisInitialized(_this));\n    _this.hideProfileMenu = _this.hideProfileMenu.bind(_assertThisInitialized(_this));\n    _this.showNotificationsPop = _this.showNotificationsPop.bind(_assertThisInitialized(_this));\n    _this.hideNotificationsPop = _this.hideNotificationsPop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"showProfileMenu\",\n    value: function showProfileMenu() {\n      var _this2 = this;\n\n      this.setState({\n        showProfileMenu: true\n      }, function () {\n        document.addEventListener(\"click\", _this2.hideProfileMenu);\n      });\n    }\n  }, {\n    key: \"isClicked\",\n    value: function isClicked(id, e) {\n      var element = document.getElementById(id);\n      if (element) return element.contains(e.target);else false;\n    }\n  }, {\n    key: \"hideProfileMenu\",\n    value: function hideProfileMenu(e) {\n      if (!this.isClicked(\"header-profile\", e)) {\n        this.setState({\n          showProfileMenu: false\n        });\n        document.removeEventListener(\"click\", this.hideProfileMenu);\n      }\n    }\n  }, {\n    key: \"showNotificationsPop\",\n    value: function showNotificationsPop() {\n      this.setState({\n        showNotificationsPop: true\n      });\n      document.addEventListener(\"click\", this.hideNotificationsPop);\n    }\n  }, {\n    key: \"hideNotificationsPop\",\n    value: function hideNotificationsPop(e) {\n      this.setState({\n        showNotificationsPop: false\n      });\n      document.removeEventListener(\"click\", this.hideNotificationsPop);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var cookies = this.props.cookies;\n      cookies.remove(\"apiToken\", {\n        path: \"/\"\n      });\n      this.props.userActions.logoutUser();\n      window.location.reload();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-logo d-none d-md-flex align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Logo,\n                className: \"header-logo-img\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-logo d-flex d-md-none\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"m-auto \".concat(this.props.user.isAuth ? \"d-none d-sm-block\" : \"\"),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Minilogo,\n                className: \"header-logo-img\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this), this.props.user.isAuth && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"m-auto d-block d-sm-none\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Smallminilogo,\n                className: \"header-logo-img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(MenuNav, {\n            userType: this.props.user.type,\n            isAuth: this.props.user.isAuth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col header-stub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 11\n          }, this), !this.props.user.isAuth && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-feedback d-640-none\",\n              onClick: function onClick() {\n                _this3.setState({\n                  showModal: true\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"header-feedback-number\",\n                children: this.props.settings.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"header-feedback-label\",\n                children: \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u043E\\u0431\\u0440\\u0430\\u0442\\u043D\\u044B\\u0439 \\u0437\\u0432\\u043E\\u043D\\u043E\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-sign-up\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header-sign-up-btn\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/register\",\n                  className: \"register\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"fill\",\n                    paddingVertical: \"8px\",\n                    paddingHorizontal: \"27px\",\n                    children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  className: \"login\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"empty\",\n                    paddingVertical: \"8px\",\n                    paddingHorizontal: \"27px\",\n                    children: \"\\u0412\\u0445\\u043E\\u0434\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true), this.props.user.isAuth && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-fast-access\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fast-access-btn  notifications \".concat(!!this.props.notifications.all.noRead && \"not-empty\"),\n              onMouseEnter: function onMouseEnter() {\n                _this3.showNotificationsPop();\n              },\n              onMouseLeave: function onMouseLeave() {\n                _this3.hideNotificationsPop();\n              },\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/notifications\",\n                children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: notificationsFill,\n                    alt: \"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 21\n                  }, this), !!this.props.notifications.all.noRead && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action-counter\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [this.props.notifications.all.noRead >= 10 && 10, this.props.notifications.all.noRead < 10 && this.props.notifications.all.noRead]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 25\n                    }, this), this.props.notifications.all.noRead >= 10 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"plus\",\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), this.state.showNotificationsPop && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pop-block\",\n                children: [this.props.notifications.all.onlyNoread.slice(0, 4).map(function (item, index) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"pop-block-item\",\n                    onClick: function onClick() {\n                      _this3.props.history.push(\"/notifications\");\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Notification, {\n                      notification: item,\n                      onlyText: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 29\n                    }, _this3)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 27\n                  }, _this3);\n                }), !this.props.notifications.all.onlyNoread.length && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pop-block-item text-center\",\n                  children: \"\\u041F\\u0443\\u0441\\u0442\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 23\n                }, this), !!this.props.notifications.all.onlyNoread.length && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"fill\",\n                    paddingHorizontal: \"10px\",\n                    paddingVertical: \"4px\",\n                    className: \"mx-0 my-2\",\n                    onClick: function onClick() {\n                      _this3.props.notificationActions.notificationsReadAll(_this3.props.user.apiToken);\n                    },\n                    children: \"\\u041F\\u0440\\u043E\\u0447\\u0438\\u0442\\u0430\\u043D\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fast-access-btn messages \".concat(!!this.props.dialogs.dialogsALL.noReadCount && \"not-empty\"),\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/messages\",\n                children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: Support,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this), !!this.props.dialogs.dialogsALL.noReadCount && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action-counter\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: this.props.dialogs.dialogsALL.noReadCount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), this.props.user.isAuth && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-additionals d-md-block d-none\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\".concat(this.props.user.type === \"cargo\" ? \"order-create\" : \"offer-create\"),\n              className: \"register\",\n              children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"fill\",\n                  className: \"d-none d-lg-block\",\n                  paddingVertical: \"8px\",\n                  paddingHorizontal: \"20px\",\n                  children: [\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\", \" \", this.props.user.type === \"cargo\" ? \"заказ\" : \"предложение\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"fill\",\n                  className: \"d-block d-lg-none\",\n                  paddingVertical: \"8px\",\n                  paddingHorizontal: \"13px\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: addIcon,\n                    style: {\n                      verticalAlign: \"middle\"\n                    },\n                    alt: \"addIcon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), this.props.user.isAuth && /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"header-profile\",\n            className: \"header-profile\",\n            onClick: function onClick() {\n              _this3.showProfileMenu();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                cursor: \"pointer\"\n              },\n              className: \"header-profile-name\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: 14,\n                  lineHeight: \"16px\",\n                  minWidth: \"123px\"\n                },\n                children: \"\".concat(this.props.user.name.last, \" \").concat(this.props.user.name.first)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: 12,\n                  lineHeight: \"14px\"\n                },\n                children: [this.props.user.contract.id === 1 && \"Физ.лицо\", this.props.user.contract.id === 2 && \"ООО\", this.props.user.contract.id === 3 && \"ИП\", this.props.user.contract.id === 4 && \"Самозанятый\", !this.props.user.contract.id && \"Не указано\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: 12,\n                  lineHeight: \"14px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rating-head\",\n                  onClick: function onClick(e) {\n                    e.stopPropagation();\n\n                    _this3.props.history.push(\"/reviews\");\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: this.props.user.rating || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ImgActiveStar,\n                    alt: \"ImgActiveStar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), this.props.user.type === \"cargo\" && \"Грузовладелец\", this.props.user.type === \"carrier\" && \"Перевозчик\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                cursor: \"pointer\"\n              },\n              className: \"header-profile-arrow-down\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: ArrowDown,\n                alt: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n                style: {\n                  filter: this.state.showProfileMenu ? \"invert(22%) sepia(99%) saturate(7342%) hue-rotate(277deg) brightness(93%) contrast(111%)\" : \"\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), this.state.showProfileMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-menu\",\n              children: [menu.map(function (item, index) {\n                if ((!item.role || item.role === _this3.props.user.type) && (item.mobile || item.onlyMobile)) return /*#__PURE__*/_jsxDEV(Link, {\n                  to: item.to,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"profile-menu-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.icon,\n                      alt: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 29\n                    }, _this3), item.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 27\n                  }, _this3)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 25\n                }, _this3);else return null;\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-menu-additionally\",\n                onClick: function onClick() {\n                  _this3.logout();\n                },\n                children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), this.props.user.type === \"carrier\" && this.props.user.isAuth && /*#__PURE__*/_jsxDEV(TariffStatus, {\n            tariff: this.props.user.tariff,\n            isBan: this.props.user.isBan,\n            expiriesAt: this.props.user.expiriesTariffAt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toogle-burger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FeedbackModal, {\n          isOpen: this.state.showModal,\n          onRequestClose: function onRequestClose() {\n            _this3.setState({\n              showModal: false\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  // console.log(state);\n  return {\n    user: state.user,\n    notifications: state.notifications,\n    dialogs: state.dialogs,\n    settings: state.settings.settings\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch),\n    notificationActions: bindActionCreators(notificationActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withCookies(Header));","map":{"version":3,"sources":["E:/SSR/Partials/Header.js"],"names":["addIcon","React","FeedbackModal","connect","userActions","notificationActions","bindActionCreators","Link","menu","Notification","withCookies","Button","MenuNav","TariffStatus","MobileMenu","Logo","Minilogo","Smallminilogo","notificationsFill","Support","ArrowDown","ImgActiveStar","Header","showModal","showMobile","showProfileMenu","showNotificationsPop","showMessagesPop","bind","hideProfileMenu","hideNotificationsPop","setState","document","addEventListener","id","e","element","getElementById","contains","target","isClicked","removeEventListener","cookies","props","remove","path","logoutUser","window","location","reload","user","isAuth","type","settings","phone","notifications","all","noRead","state","onlyNoread","slice","map","item","index","history","push","length","notificationsReadAll","apiToken","dialogs","dialogsALL","noReadCount","verticalAlign","cursor","margin","fontSize","lineHeight","minWidth","name","last","first","contract","stopPropagation","rating","filter","role","mobile","onlyMobile","to","icon","logout","tariff","isBan","expiriesTariffAt","Component","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import addIcon from \"../img/add-icon.svg\"; // App\r\nimport React from \"react\";\r\nimport FeedbackModal from \"../Modal/FeedbackModal\";\r\n// Redux\r\nimport { connect } from \"react-redux\";\r\nimport * as userActions from \"../redux/actions/user\";\r\nimport * as notificationActions from \"../redux/actions/notification\";\r\nimport { bindActionCreators } from \"redux\";\r\n// Redux\r\nimport Link from \"../Elements/Link\";\r\nimport menu from \"../config/sideMenu\";\r\nimport Notification from \"../Elements/Notification\";\r\nimport { withCookies } from \"react-cookie\";\r\n// Elements\r\nimport Button from \"../Elements/Button\";\r\nimport MenuNav from \"./MenuNav\";\r\nimport TariffStatus from \"../Partials/TariffStatus\";\r\nimport MobileMenu from \"./MobileMenu\";\r\n//IMG\r\nimport Logo from \"../img/logo.svg\";\r\nimport Minilogo from \"../img/logoMobile.svg\";\r\nimport Smallminilogo from \"../img/mini-logo.svg\";\r\nimport notificationsFill from \"../img/notifications-fill.png\";\r\nimport Support from \"../img/support.svg\";\r\nimport ArrowDown from \"../img/arrowDown.png\";\r\nimport ImgActiveStar from \"../img/active-star.png\";\r\n\r\nclass Header extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.showProfileMenu = this.showProfileMenu.bind(this);\r\n    this.hideProfileMenu = this.hideProfileMenu.bind(this);\r\n    this.showNotificationsPop = this.showNotificationsPop.bind(this);\r\n    this.hideNotificationsPop = this.hideNotificationsPop.bind(this);\r\n  }\r\n\r\n  state = {\r\n    showModal: false,\r\n    showMobile: false,\r\n    showProfileMenu: false,\r\n    showNotificationsPop: false,\r\n    showMessagesPop: false,\r\n  };\r\n\r\n  showProfileMenu() {\r\n    this.setState({ showProfileMenu: true }, () => {\r\n      document.addEventListener(\"click\", this.hideProfileMenu);\r\n    });\r\n  }\r\n  isClicked(id, e) {\r\n    let element = document.getElementById(id);\r\n    if (element) return element.contains(e.target);\r\n    else false;\r\n  }\r\n  hideProfileMenu(e) {\r\n    if (!this.isClicked(\"header-profile\", e)) {\r\n      this.setState({ showProfileMenu: false });\r\n      document.removeEventListener(\"click\", this.hideProfileMenu);\r\n    }\r\n  }\r\n  showNotificationsPop() {\r\n    this.setState({ showNotificationsPop: true });\r\n    document.addEventListener(\"click\", this.hideNotificationsPop);\r\n  }\r\n\r\n  hideNotificationsPop(e) {\r\n    this.setState({ showNotificationsPop: false });\r\n    document.removeEventListener(\"click\", this.hideNotificationsPop);\r\n  }\r\n  logout() {\r\n    const { cookies } = this.props;\r\n    cookies.remove(\"apiToken\", { path: \"/\" });\r\n    this.props.userActions.logoutUser();\r\n    window.location.reload();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className={`header container-fluid`}>\r\n        <div className=\"header-content d-flex\">\r\n          <div className=\"header-logo d-none d-md-flex align-items-center\">\r\n            <Link to=\"/\">\r\n              <img src={Logo} className=\"header-logo-img\" alt=\"\" />\r\n            </Link>\r\n          </div>\r\n          <div className=\"header-logo d-flex d-md-none\">\r\n            <Link\r\n              to=\"/\"\r\n              className={`m-auto ${\r\n                this.props.user.isAuth ? \"d-none d-sm-block\" : \"\"\r\n              }`}\r\n            >\r\n              <img src={Minilogo} className=\"header-logo-img\" alt=\"\" />\r\n            </Link>\r\n            {this.props.user.isAuth && (\r\n              <Link to=\"/\" className=\"m-auto d-block d-sm-none\">\r\n                <img src={Smallminilogo} className=\"header-logo-img\" />\r\n              </Link>\r\n            )}\r\n          </div>\r\n          <MenuNav\r\n            userType={this.props.user.type}\r\n            isAuth={this.props.user.isAuth}\r\n          />\r\n          <div className=\"col header-stub\"></div>\r\n          {!this.props.user.isAuth && (\r\n            <>\r\n              <div\r\n                className=\"header-feedback d-640-none\"\r\n                onClick={() => {\r\n                  this.setState({ showModal: true });\r\n                }}\r\n              >\r\n                <p className=\"header-feedback-number\">\r\n                  {this.props.settings.phone}\r\n                </p>\r\n                <p className=\"header-feedback-label\">\r\n                  Заказать обратный звонок\r\n                </p>\r\n              </div>\r\n              <div className=\"header-sign-up\">\r\n                <div className=\"header-sign-up-btn\">\r\n                  <Link to=\"/register\" className=\"register\">\r\n                    <Button\r\n                      type=\"fill\"\r\n                      paddingVertical={\"8px\"}\r\n                      paddingHorizontal={\"27px\"}\r\n                    >\r\n                      Регистрация\r\n                    </Button>\r\n                  </Link>\r\n                  <Link to=\"/login\" className=\"login\">\r\n                    <Button\r\n                      type=\"empty\"\r\n                      paddingVertical={\"8px\"}\r\n                      paddingHorizontal={\"27px\"}\r\n                    >\r\n                      Вход\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {this.props.user.isAuth && (\r\n            <div className=\"header-fast-access\">\r\n              <div\r\n                className={`fast-access-btn  notifications ${\r\n                  !!this.props.notifications.all.noRead && \"not-empty\"\r\n                }`}\r\n                onMouseEnter={() => {\r\n                  this.showNotificationsPop();\r\n                }}\r\n                onMouseLeave={() => {\r\n                  this.hideNotificationsPop();\r\n                }}\r\n              >\r\n                <Link to=\"/notifications\">\r\n                  <>\r\n                    <img src={notificationsFill} alt=\"Уведомления\" />\r\n                    {!!this.props.notifications.all.noRead && (\r\n                      <div className=\"action-counter\">\r\n                        <span>\r\n                          {this.props.notifications.all.noRead >= 10 && 10}\r\n                          {this.props.notifications.all.noRead < 10 &&\r\n                            this.props.notifications.all.noRead}\r\n                        </span>\r\n                        {this.props.notifications.all.noRead >= 10 && (\r\n                          <span className=\"plus\">+</span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                </Link>\r\n                {this.state.showNotificationsPop && (\r\n                  <div className=\"pop-block\">\r\n                    {this.props.notifications.all.onlyNoread\r\n                      .slice(0, 4)\r\n                      .map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            key={index}\r\n                            className=\"pop-block-item\"\r\n                            onClick={() => {\r\n                              this.props.history.push(\"/notifications\");\r\n                            }}\r\n                          >\r\n                            <Notification notification={item} onlyText={true} />\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    {!this.props.notifications.all.onlyNoread.length && (\r\n                      <div className=\"pop-block-item text-center\">Пусто</div>\r\n                    )}\r\n                    {!!this.props.notifications.all.onlyNoread.length && (\r\n                      <div className=\"text-center\">\r\n                        <Button\r\n                          type=\"fill\"\r\n                          paddingHorizontal={\"10px\"}\r\n                          paddingVertical={\"4px\"}\r\n                          className=\"mx-0 my-2\"\r\n                          onClick={() => {\r\n                            this.props.notificationActions.notificationsReadAll(\r\n                              this.props.user.apiToken\r\n                            );\r\n                          }}\r\n                        >\r\n                          Прочитано\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div\r\n                className={`fast-access-btn messages ${\r\n                  !!this.props.dialogs.dialogsALL.noReadCount && \"not-empty\"\r\n                }`}\r\n              >\r\n                <Link to=\"/messages\">\r\n                  <>\r\n                    <img src={Support} alt=\"\" />\r\n                    {!!this.props.dialogs.dialogsALL.noReadCount && (\r\n                      <div className=\"action-counter\">\r\n                        <span>{this.props.dialogs.dialogsALL.noReadCount}</span>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {this.props.user.isAuth && (\r\n            <div className=\"header-additionals d-md-block d-none\">\r\n              <Link\r\n                to={`/${\r\n                  this.props.user.type === \"cargo\"\r\n                    ? \"order-create\"\r\n                    : \"offer-create\"\r\n                }`}\r\n                className=\"register\"\r\n              >\r\n                <>\r\n                  <Button\r\n                    type=\"fill\"\r\n                    className=\"d-none d-lg-block\"\r\n                    paddingVertical={\"8px\"}\r\n                    paddingHorizontal={\"20px\"}\r\n                  >\r\n                    Добавить{\" \"}\r\n                    {this.props.user.type === \"cargo\" ? \"заказ\" : \"предложение\"}\r\n                  </Button>\r\n                  <Button\r\n                    type=\"fill\"\r\n                    className=\"d-block d-lg-none\"\r\n                    paddingVertical={\"8px\"}\r\n                    paddingHorizontal={\"13px\"}\r\n                  >\r\n                    <img\r\n                      src={addIcon}\r\n                      style={{\r\n                        verticalAlign: \"middle\",\r\n                      }}\r\n                      alt=\"addIcon\"\r\n                    />\r\n                  </Button>\r\n                </>\r\n              </Link>\r\n            </div>\r\n          )}\r\n\r\n          {this.props.user.isAuth && (\r\n            <div\r\n              id=\"header-profile\"\r\n              className=\"header-profile\"\r\n              onClick={() => {\r\n                this.showProfileMenu();\r\n              }}\r\n            >\r\n              <div\r\n                style={{ cursor: \"pointer\" }}\r\n                className=\"header-profile-name\"\r\n              >\r\n                <p\r\n                  style={{\r\n                    margin: 0,\r\n                    fontSize: 14,\r\n                    lineHeight: \"16px\",\r\n                    minWidth: \"123px\",\r\n                  }}\r\n                >{`${this.props.user.name.last} ${this.props.user.name.first}`}</p>\r\n                <p style={{ margin: 0, fontSize: 12, lineHeight: \"14px\" }}>\r\n                  {this.props.user.contract.id === 1 && \"Физ.лицо\"}\r\n                  {this.props.user.contract.id === 2 && \"ООО\"}\r\n                  {this.props.user.contract.id === 3 && \"ИП\"}\r\n                  {this.props.user.contract.id === 4 && \"Самозанятый\"}\r\n                  {!this.props.user.contract.id && \"Не указано\"}\r\n                </p>\r\n                <p style={{ margin: 0, fontSize: 12, lineHeight: \"14px\" }}>\r\n                  <span\r\n                    className=\"rating-head\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      this.props.history.push(\"/reviews\");\r\n                    }}\r\n                  >\r\n                    <span>{this.props.user.rating || 0}</span>\r\n                    <img src={ImgActiveStar} alt=\"ImgActiveStar\" />\r\n                  </span>\r\n                  {this.props.user.type === \"cargo\" && \"Грузовладелец\"}\r\n                  {this.props.user.type === \"carrier\" && \"Перевозчик\"}\r\n                </p>\r\n              </div>\r\n              <div\r\n                style={{ cursor: \"pointer\" }}\r\n                className=\"header-profile-arrow-down\"\r\n              >\r\n                <img\r\n                  src={ArrowDown}\r\n                  alt=\"Профиль\"\r\n                  style={{\r\n                    filter: this.state.showProfileMenu\r\n                      ? \"invert(22%) sepia(99%) saturate(7342%) hue-rotate(277deg) brightness(93%) contrast(111%)\"\r\n                      : \"\",\r\n                  }}\r\n                />\r\n              </div>\r\n              {this.state.showProfileMenu && (\r\n                <div className=\"profile-menu\">\r\n                  {menu.map((item, index) => {\r\n                    if (\r\n                      (!item.role || item.role === this.props.user.type) &&\r\n                      (item.mobile || item.onlyMobile)\r\n                    )\r\n                      return (\r\n                        <Link key={index} to={item.to}>\r\n                          <div className=\"profile-menu-item\">\r\n                            <img src={item.icon} alt=\"Профиль\" />\r\n                            {item.name}\r\n                          </div>\r\n                        </Link>\r\n                      );\r\n                    else return null;\r\n                  })}\r\n                  <div\r\n                    className=\"profile-menu-additionally\"\r\n                    onClick={() => {\r\n                      this.logout();\r\n                    }}\r\n                  >\r\n                    Выйти\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          {this.props.user.type === \"carrier\" && this.props.user.isAuth && (\r\n            <TariffStatus\r\n              tariff={this.props.user.tariff}\r\n              isBan={this.props.user.isBan}\r\n              expiriesAt={this.props.user.expiriesTariffAt}\r\n            />\r\n          )}\r\n          <div className=\"toogle-burger\">{/* <MobileMenu /> */}</div>\r\n        </div>\r\n        <FeedbackModal\r\n          isOpen={this.state.showModal}\r\n          onRequestClose={() => {\r\n            this.setState({ showModal: false });\r\n          }}\r\n        />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  // console.log(state);\r\n  return {\r\n    user: state.user,\r\n    notifications: state.notifications,\r\n    dialogs: state.dialogs,\r\n    settings: state.settings.settings,\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    userActions: bindActionCreators(userActions, dispatch),\r\n    notificationActions: bindActionCreators(notificationActions, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withCookies(Header));\r\n"]},"metadata":{},"sourceType":"module"}