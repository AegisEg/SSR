{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\Partials\\\\MenuNav.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n// App\nimport React from \"react\";\nimport moreico from \"../img/more_icon.png\";\nimport ReactResizeDetector from \"react-resize-detector\"; // Router\n\nimport NavLink from \"../Elements/NavLink\";\nimport { connect } from \"react-redux\";\n\nvar MenuNav = /*#__PURE__*/function (_React$Component) {\n  _inherits(MenuNav, _React$Component);\n\n  var _super = _createSuper(MenuNav);\n\n  function MenuNav() {\n    var _this;\n\n    _classCallCheck(this, MenuNav);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      menu: [{\n        id: 34,\n        name: \"Найти заказ\",\n        href: \"/search-order\",\n        type: \"menu\",\n        isAuth: true,\n        userType: \"carrier\",\n        width: 0\n      }, {\n        id: 31,\n        name: \"Найти предложение\",\n        href: \"/search-offer\",\n        type: \"menu\",\n        isAuth: true,\n        userType: \"cargo\",\n        width: 0\n      }, {\n        id: 1,\n        name: \"Грузовладельцам\",\n        href: \"/cargo\",\n        type: \"menu\",\n        alwaysVisible: true,\n        width: 0\n      }, {\n        id: 2,\n        name: \"Перевозчикам\",\n        href: \"/carrier\",\n        type: \"menu\",\n        alwaysVisible: true,\n        width: 0\n      }, {\n        id: 3,\n        name: \"FAQ\",\n        href: \"/faq\",\n        type: \"menu\",\n        isAuth: false,\n        width: 0\n      }, {\n        id: 21,\n        name: \"FAQ\",\n        href: \"/support\",\n        type: \"menu\",\n        isAuth: true,\n        width: 0\n      }, {\n        id: 4,\n        name: \"О портале\",\n        href: _this.props.settings.aboutPage,\n        type: \"menu\",\n        alwaysVisible: true,\n        width: 0\n      }, {\n        id: 5,\n        name: \"Тарифы\",\n        href: \"/tariffs\",\n        alwaysVisible: true\n      }, {\n        id: 6,\n        name: \"Скачать приложение\",\n        href: \"/download-app\",\n        alwaysVisible: true\n      }],\n      menuWidth: 200\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (menuWidth) {\n      if (menuWidth !== 0) _this.setState({\n        menuWidth: menuWidth\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeItem\", function (itemWidth, id) {\n      var menu = _this.state.menu;\n\n      for (var i = 0; i < menu.length; i++) {\n        if ((_this.props.isAuth === menu[i].isAuth || menu[i].alwaysVisible) && (!menu[i].userType || menu[i].userType === _this.props.userType)) if (menu[i].id === id) {\n          menu[i].width = itemWidth;\n          break;\n        }\n      }\n\n      _this.setState({\n        menu: menu\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(MenuNav, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var menu = this.state.menu,\n          width = 61;\n\n      for (var i = 0; i < menu.length; i++) {\n        width += menu[i].width;\n        if ((this.props.isAuth === menu[i].isAuth || menu[i].alwaysVisible) && (!menu[i].userType || menu[i].userType === this.props.userType)) if (width >= this.state.menuWidth) {\n          menu[i].type = \"submenu\";\n        } else menu[i].type = \"menu\";\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-navigation d-premd-none col\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: menu.map(function (item) {\n              if ((_this2.props.isAuth === item.isAuth || item.alwaysVisible) && (!item.userType || item.userType === _this2.props.userType)) return item.type === \"menu\" && /*#__PURE__*/_jsxDEV(\"li\", {\n                style: {\n                  opacity: item.width ? 1 : 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(NavLink, {\n                  href: item.href,\n                  activeClassName: \"active\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 23\n                }, _this2), /*#__PURE__*/_jsxDEV(ReactResizeDetector, {\n                  handleWidth: true,\n                  handleHeight: false,\n                  onResize: function onResize(width) {\n                    _this2.onResizeItem(width, item.id);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 23\n                }, _this2)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, _this2);else return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"contents\"\n                }\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, _this2);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 11\n          }, this), menu.find(function (item) {\n            return item.type === \"submenu\";\n          }) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"moreMenu\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"more-menu\",\n              children: [\"\\u0415\\u0449\\u0435 \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: moreico,\n                className: \"d-inline\",\n                alt: \"Pogrooz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"submenu\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: menu.map(function (item) {\n                    return item.type === \"submenu\" && /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(NavLink, {\n                        href: item.href,\n                        activeClassName: \"active\",\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 29\n                      }, _this2)\n                    }, item.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 27\n                    }, _this2);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ReactResizeDetector, {\n          handleWidth: true,\n          handleHeight: false,\n          onResize: function onResize(width) {\n            _this2.onResize(width);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return MenuNav;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.settings.settings\n  };\n};\n\nexport default connect(mapStateToProps)(MenuNav);","map":{"version":3,"sources":["E:/SSR/Partials/MenuNav.js"],"names":["React","moreico","ReactResizeDetector","NavLink","connect","MenuNav","menu","id","name","href","type","isAuth","userType","width","alwaysVisible","props","settings","aboutPage","menuWidth","setState","itemWidth","state","i","length","map","item","opacity","onResizeItem","display","find","onResize","Component","mapStateToProps"],"mappings":";;;;;;;;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC,C,CACA;;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;;IAEMC,O;;;;;;;;;;;;;;;;4DACI;AACNC,MAAAA,IAAI,EAAE,CACJ;AACEC,QAAAA,EAAE,EAAE,EADN;AAEEC,QAAAA,IAAI,EAAE,aAFR;AAGEC,QAAAA,IAAI,EAAE,eAHR;AAIEC,QAAAA,IAAI,EAAE,MAJR;AAKEC,QAAAA,MAAM,EAAE,IALV;AAMEC,QAAAA,QAAQ,EAAE,SANZ;AAOEC,QAAAA,KAAK,EAAE;AAPT,OADI,EAUJ;AACEN,QAAAA,EAAE,EAAE,EADN;AAEEC,QAAAA,IAAI,EAAE,mBAFR;AAGEC,QAAAA,IAAI,EAAE,eAHR;AAIEC,QAAAA,IAAI,EAAE,MAJR;AAKEC,QAAAA,MAAM,EAAE,IALV;AAMEC,QAAAA,QAAQ,EAAE,OANZ;AAOEC,QAAAA,KAAK,EAAE;AAPT,OAVI,EAmBJ;AACEN,QAAAA,EAAE,EAAE,CADN;AAEEC,QAAAA,IAAI,EAAE,iBAFR;AAGEC,QAAAA,IAAI,EAAE,QAHR;AAIEC,QAAAA,IAAI,EAAE,MAJR;AAKEI,QAAAA,aAAa,EAAE,IALjB;AAMED,QAAAA,KAAK,EAAE;AANT,OAnBI,EA2BJ;AACEN,QAAAA,EAAE,EAAE,CADN;AAEEC,QAAAA,IAAI,EAAE,cAFR;AAGEC,QAAAA,IAAI,EAAE,UAHR;AAIEC,QAAAA,IAAI,EAAE,MAJR;AAKEI,QAAAA,aAAa,EAAE,IALjB;AAMED,QAAAA,KAAK,EAAE;AANT,OA3BI,EAmCJ;AACEN,QAAAA,EAAE,EAAE,CADN;AAEEC,QAAAA,IAAI,EAAE,KAFR;AAGEC,QAAAA,IAAI,EAAE,MAHR;AAIEC,QAAAA,IAAI,EAAE,MAJR;AAKEC,QAAAA,MAAM,EAAE,KALV;AAMEE,QAAAA,KAAK,EAAE;AANT,OAnCI,EA2CJ;AACEN,QAAAA,EAAE,EAAE,EADN;AAEEC,QAAAA,IAAI,EAAE,KAFR;AAGEC,QAAAA,IAAI,EAAE,UAHR;AAIEC,QAAAA,IAAI,EAAE,MAJR;AAKEC,QAAAA,MAAM,EAAE,IALV;AAMEE,QAAAA,KAAK,EAAE;AANT,OA3CI,EAmDJ;AACEN,QAAAA,EAAE,EAAE,CADN;AAEEC,QAAAA,IAAI,EAAE,WAFR;AAGEC,QAAAA,IAAI,EAAE,MAAKM,KAAL,CAAWC,QAAX,CAAoBC,SAH5B;AAIEP,QAAAA,IAAI,EAAE,MAJR;AAKEI,QAAAA,aAAa,EAAE,IALjB;AAMED,QAAAA,KAAK,EAAE;AANT,OAnDI,EA2DJ;AACEN,QAAAA,EAAE,EAAE,CADN;AAEEC,QAAAA,IAAI,EAAE,QAFR;AAGEC,QAAAA,IAAI,EAAE,UAHR;AAIEK,QAAAA,aAAa,EAAE;AAJjB,OA3DI,EAiEJ;AACEP,QAAAA,EAAE,EAAE,CADN;AAEEC,QAAAA,IAAI,EAAE,oBAFR;AAGEC,QAAAA,IAAI,EAAE,eAHR;AAIEK,QAAAA,aAAa,EAAE;AAJjB,OAjEI,CADA;AAyENI,MAAAA,SAAS,EAAE;AAzEL,K;;+DA4EG,UAACA,SAAD,EAAe;AACxB,UAAIA,SAAS,KAAK,CAAlB,EAAqB,MAAKC,QAAL,CAAc;AAAED,QAAAA,SAAS,EAATA;AAAF,OAAd;AACtB,K;;mEACc,UAACE,SAAD,EAAYb,EAAZ,EAAmB;AAChC,UAAID,IAAI,GAAG,MAAKe,KAAL,CAAWf,IAAtB;;AACA,WAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,IAAI,CAACiB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,YACE,CAAC,MAAKP,KAAL,CAAWJ,MAAX,KAAsBL,IAAI,CAACgB,CAAD,CAAJ,CAAQX,MAA9B,IAAwCL,IAAI,CAACgB,CAAD,CAAJ,CAAQR,aAAjD,MACC,CAACR,IAAI,CAACgB,CAAD,CAAJ,CAAQV,QAAT,IAAqBN,IAAI,CAACgB,CAAD,CAAJ,CAAQV,QAAR,KAAqB,MAAKG,KAAL,CAAWH,QADtD,CADF,EAIE,IAAIN,IAAI,CAACgB,CAAD,CAAJ,CAAQf,EAAR,KAAeA,EAAnB,EAAuB;AACrBD,UAAAA,IAAI,CAACgB,CAAD,CAAJ,CAAQT,KAAR,GAAgBO,SAAhB;AACA;AACD;AACJ;;AAED,YAAKD,QAAL,CAAc;AAAEb,QAAAA,IAAI,EAAJA;AAAF,OAAd;AACD,K;;;;;;;6BAEQ;AAAA;;AACP,UAAIA,IAAI,GAAG,KAAKe,KAAL,CAAWf,IAAtB;AAAA,UACEO,KAAK,GAAG,EADV;;AAGA,WAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,IAAI,CAACiB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpCT,QAAAA,KAAK,IAAIP,IAAI,CAACgB,CAAD,CAAJ,CAAQT,KAAjB;AACA,YACE,CAAC,KAAKE,KAAL,CAAWJ,MAAX,KAAsBL,IAAI,CAACgB,CAAD,CAAJ,CAAQX,MAA9B,IAAwCL,IAAI,CAACgB,CAAD,CAAJ,CAAQR,aAAjD,MACC,CAACR,IAAI,CAACgB,CAAD,CAAJ,CAAQV,QAAT,IAAqBN,IAAI,CAACgB,CAAD,CAAJ,CAAQV,QAAR,KAAqB,KAAKG,KAAL,CAAWH,QADtD,CADF,EAIE,IAAIC,KAAK,IAAI,KAAKQ,KAAL,CAAWH,SAAxB,EAAmC;AACjCZ,UAAAA,IAAI,CAACgB,CAAD,CAAJ,CAAQZ,IAAR,GAAe,SAAf;AACD,SAFD,MAEOJ,IAAI,CAACgB,CAAD,CAAJ,CAAQZ,IAAR,GAAe,MAAf;AACV;;AACD,0BACE;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA,gCACE;AAAA,kCACE;AAAA,sBACGJ,IAAI,CAACkB,GAAL,CAAS,UAACC,IAAD,EAAU;AAClB,kBACE,CAAC,MAAI,CAACV,KAAL,CAAWJ,MAAX,KAAsBc,IAAI,CAACd,MAA3B,IAAqCc,IAAI,CAACX,aAA3C,MACC,CAACW,IAAI,CAACb,QAAN,IAAkBa,IAAI,CAACb,QAAL,KAAkB,MAAI,CAACG,KAAL,CAAWH,QADhD,CADF,EAIE,OACEa,IAAI,CAACf,IAAL,KAAc,MAAd,iBACE;AAAkB,gBAAA,KAAK,EAAE;AAAEgB,kBAAAA,OAAO,EAAED,IAAI,CAACZ,KAAL,GAAa,CAAb,GAAiB;AAA5B,iBAAzB;AAAA,wCACE,QAAC,OAAD;AAAS,kBAAA,IAAI,EAAEY,IAAI,CAAChB,IAApB;AAA0B,kBAAA,eAAe,EAAC,QAA1C;AAAA,4BACGgB,IAAI,CAACjB;AADR;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE,QAAC,mBAAD;AACE,kBAAA,WAAW,MADb;AAEE,kBAAA,YAAY,EAAE,KAFhB;AAGE,kBAAA,QAAQ,EAAE,kBAACK,KAAD,EAAW;AACnB,oBAAA,MAAI,CAACc,YAAL,CAAkBd,KAAlB,EAAyBY,IAAI,CAAClB,EAA9B;AACD;AALH;AAAA;AAAA;AAAA;AAAA,0BAJF;AAAA,iBAASkB,IAAI,CAAClB,EAAd;AAAA;AAAA;AAAA;AAAA,wBAFJ,CAJF,KAqBE,oBACE;AAEE,gBAAA,KAAK,EAAE;AACLqB,kBAAAA,OAAO,EAAE;AADJ;AAFT,iBACOH,IAAI,CAAClB,EADZ;AAAA;AAAA;AAAA;AAAA,wBADF;AAQH,aA9BA;AADH;AAAA;AAAA;AAAA;AAAA,kBADF,EAkCGD,IAAI,CAACuB,IAAL,CAAU,UAACJ,IAAD;AAAA,mBAAUA,IAAI,CAACf,IAAL,KAAc,SAAxB;AAAA,WAAV,kBACC;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACE;AAAM,cAAA,SAAS,EAAC,WAAhB;AAAA,6DACM;AAAK,gBAAA,GAAG,EAAET,OAAV;AAAmB,gBAAA,SAAS,EAAC,UAA7B;AAAwC,gBAAA,GAAG,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,sBADN,eAEE;AAAK,gBAAA,SAAS,EAAC,SAAf;AAAA,uCACE;AAAA,4BACGK,IAAI,CAACkB,GAAL,CAAS,UAACC,IAAD,EAAU;AAClB,2BACEA,IAAI,CAACf,IAAL,KAAc,SAAd,iBACE;AAAA,6CACE,QAAC,OAAD;AAAS,wBAAA,IAAI,EAAEe,IAAI,CAAChB,IAApB;AAA0B,wBAAA,eAAe,EAAC,QAA1C;AAAA,kCACGgB,IAAI,CAACjB;AADR;AAAA;AAAA;AAAA;AAAA;AADF,uBAASiB,IAAI,CAAClB,EAAd;AAAA;AAAA;AAAA;AAAA,8BAFJ;AASD,mBAVA;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAnCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eA0DE,QAAC,mBAAD;AACE,UAAA,WAAW,MADb;AAEE,UAAA,YAAY,EAAE,KAFhB;AAGE,UAAA,QAAQ,EAAE,kBAACM,KAAD,EAAW;AACnB,YAAA,MAAI,CAACiB,QAAL,CAAcjB,KAAd;AACD;AALH;AAAA;AAAA;AAAA;AAAA,gBA1DF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAoED;;;;EAlLmBb,KAAK,CAAC+B,S;;AAoL5B,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACX,KAAD,EAAW;AACjC,SAAO;AACLL,IAAAA,QAAQ,EAAEK,KAAK,CAACL,QAAN,CAAeA;AADpB,GAAP;AAGD,CAJD;;AAKA,eAAeZ,OAAO,CAAC4B,eAAD,CAAP,CAAyB3B,OAAzB,CAAf","sourcesContent":["// App\r\nimport React from \"react\";\r\nimport moreico from \"../img/more_icon.png\";\r\nimport ReactResizeDetector from \"react-resize-detector\";\r\n// Router\r\nimport NavLink from \"../Elements/NavLink\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass MenuNav extends React.Component {\r\n  state = {\r\n    menu: [\r\n      {\r\n        id: 34,\r\n        name: \"Найти заказ\",\r\n        href: \"/search-order\",\r\n        type: \"menu\",\r\n        isAuth: true,\r\n        userType: \"carrier\",\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 31,\r\n        name: \"Найти предложение\",\r\n        href: \"/search-offer\",\r\n        type: \"menu\",\r\n        isAuth: true,\r\n        userType: \"cargo\",\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 1,\r\n        name: \"Грузовладельцам\",\r\n        href: \"/cargo\",\r\n        type: \"menu\",\r\n        alwaysVisible: true,\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"Перевозчикам\",\r\n        href: \"/carrier\",\r\n        type: \"menu\",\r\n        alwaysVisible: true,\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 3,\r\n        name: \"FAQ\",\r\n        href: \"/faq\",\r\n        type: \"menu\",\r\n        isAuth: false,\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 21,\r\n        name: \"FAQ\",\r\n        href: \"/support\",\r\n        type: \"menu\",\r\n        isAuth: true,\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 4,\r\n        name: \"О портале\",\r\n        href: this.props.settings.aboutPage,\r\n        type: \"menu\",\r\n        alwaysVisible: true,\r\n        width: 0,\r\n      },\r\n      {\r\n        id: 5,\r\n        name: \"Тарифы\",\r\n        href: \"/tariffs\",\r\n        alwaysVisible: true,\r\n      },\r\n      {\r\n        id: 6,\r\n        name: \"Скачать приложение\",\r\n        href: \"/download-app\",\r\n        alwaysVisible: true,\r\n      },\r\n    ],\r\n    menuWidth: 200,\r\n  };\r\n\r\n  onResize = (menuWidth) => {\r\n    if (menuWidth !== 0) this.setState({ menuWidth });\r\n  };\r\n  onResizeItem = (itemWidth, id) => {\r\n    let menu = this.state.menu;\r\n    for (let i = 0; i < menu.length; i++) {\r\n      if (\r\n        (this.props.isAuth === menu[i].isAuth || menu[i].alwaysVisible) &&\r\n        (!menu[i].userType || menu[i].userType === this.props.userType)\r\n      )\r\n        if (menu[i].id === id) {\r\n          menu[i].width = itemWidth;\r\n          break;\r\n        }\r\n    }\r\n\r\n    this.setState({ menu });\r\n  };\r\n\r\n  render() {\r\n    let menu = this.state.menu,\r\n      width = 61;\r\n\r\n    for (let i = 0; i < menu.length; i++) {\r\n      width += menu[i].width;\r\n      if (\r\n        (this.props.isAuth === menu[i].isAuth || menu[i].alwaysVisible) &&\r\n        (!menu[i].userType || menu[i].userType === this.props.userType)\r\n      )\r\n        if (width >= this.state.menuWidth) {\r\n          menu[i].type = \"submenu\";\r\n        } else menu[i].type = \"menu\";\r\n    }\r\n    return (\r\n      <div className=\"header-navigation d-premd-none col\">\r\n        <nav>\r\n          <ul>\r\n            {menu.map((item) => {\r\n              if (\r\n                (this.props.isAuth === item.isAuth || item.alwaysVisible) &&\r\n                (!item.userType || item.userType === this.props.userType)\r\n              )\r\n                return (\r\n                  item.type === \"menu\" && (\r\n                    <li key={item.id} style={{ opacity: item.width ? 1 : 0 }}>\r\n                      <NavLink href={item.href} activeClassName=\"active\">\r\n                        {item.name}\r\n                      </NavLink>\r\n                      <ReactResizeDetector\r\n                        handleWidth\r\n                        handleHeight={false}\r\n                        onResize={(width) => {\r\n                          this.onResizeItem(width, item.id);\r\n                        }}\r\n                      />\r\n                    </li>\r\n                  )\r\n                );\r\n              else\r\n                return (\r\n                  <div\r\n                    key={item.id}\r\n                    style={{\r\n                      display: \"contents\",\r\n                    }}\r\n                  ></div>\r\n                );\r\n            })}\r\n          </ul>\r\n          {menu.find((item) => item.type === \"submenu\") && (\r\n            <div className=\"moreMenu\">\r\n              <span className=\"more-menu\">\r\n                Еще <img src={moreico} className=\"d-inline\" alt=\"Pogrooz\" />\r\n                <div className=\"submenu\">\r\n                  <ul>\r\n                    {menu.map((item) => {\r\n                      return (\r\n                        item.type === \"submenu\" && (\r\n                          <li key={item.id}>\r\n                            <NavLink href={item.href} activeClassName=\"active\">\r\n                              {item.name}\r\n                            </NavLink>\r\n                          </li>\r\n                        )\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              </span>\r\n            </div>\r\n          )}\r\n        </nav>\r\n        <ReactResizeDetector\r\n          handleWidth\r\n          handleHeight={false}\r\n          onResize={(width) => {\r\n            this.onResize(width);\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    settings: state.settings.settings,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(MenuNav);\r\n"]},"metadata":{},"sourceType":"module"}