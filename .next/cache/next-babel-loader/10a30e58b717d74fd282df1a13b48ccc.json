{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\pages\\\\register.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n// App\nimport React from \"react\";\nimport Input from \"../Elements/Input\";\nimport configApi from \"../config/api\";\nimport { toast } from \"react-toastify\";\nimport { withCookies } from \"react-cookie\"; // Elements\n\nimport { CSSTransitionGroup } from \"react-transition-group\";\nimport Button from \"../Elements/Button\";\nimport InputPhone from \"../Elements/InputPhone\"; // Router\n\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nvar Register = /*#__PURE__*/function (_React$Component) {\n  _inherits(Register, _React$Component);\n\n  var _super = _createSuper(Register);\n\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      type: \"cargo\",\n      country: 1,\n      email: \"\",\n      firstName: \"\",\n      middleName: \"\",\n      lastName: \"\",\n      phone: \"\",\n      password: \"\",\n      error: false,\n      errors: [],\n      isVerified: false\n    });\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"register\",\n    value: function register() {\n      var _this2 = this;\n\n      if (this.state.isVerified === \"success\") {\n        this.setState({\n          isFetching: true\n        });\n        fetch(\"\".concat(configApi.urlApi, \"/auth/register\"), {\n          method: \"post\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: this.state.email,\n            phone: this.state.phone,\n            country: this.state.country,\n            type: this.state.type,\n            firstName: this.state.firstName,\n            middleName: this.state.middleName,\n            lastName: this.state.lastName,\n            password: this.state.password\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          if (data.error) {\n            if (data.error) // data.errors.map((item) => {\n              //   toast.error(item.msg);\n              // });\n              _this2.setState({\n                error: true,\n                errors: data.errors\n              });\n          } else {\n            toast.success(\"Регистрация прошла успешно\");\n\n            _this2.props.cookies.set(\"apiToken\", data.token, {\n              path: \"/\"\n            });\n\n            window.location = \"/profile/info\";\n          }\n\n          _this2.setState({\n            isFetching: false\n          });\n        });\n      } else toast.error(\"Подтвердите номер телефона\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // let selectCountry = countryList.filter((item) => item.value !== 1);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-page\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"register-title\",\n          children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-form col-12 col-sm-9 col-md-6 col-lg-5 col-xl-4 mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row tabs justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tab f-16 left-angle \".concat(this.state.type === \"carrier\" ? \"active \" : \"gray\"),\n              onClick: function onClick() {\n                _this3.setState({\n                  type: \"carrier\"\n                });\n              },\n              children: \"\\u042F \\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0437\\u0447\\u0438\\u043A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tab f-16 left-angle \".concat(this.state.type === \"cargo\" ? \"active\" : \"gray\"),\n              onClick: function onClick() {\n                _this3.setState({\n                  type: \"cargo\"\n                });\n              },\n              children: \"\\u042F \\u0412\\u043B\\u0430\\u0434\\u0435\\u043B\\u0435\\u0446 \\u0433\\u0440\\u0443\\u0437\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(InputPhone, {\n            error: this.state.errors.find(function (value) {\n              return value.param === \"phone\";\n            }),\n            value: this.state.phone,\n            isVerified: this.state.isVerified,\n            phone: this.state.phone,\n            setVerified: function setVerified(val) {\n              _this3.setState({\n                isVerified: val\n              });\n            },\n            onChange: function onChange(phone) {\n              _this3.setState({\n                phone: phone\n              });\n            },\n            placeholder: \"+7 (_ _ _) _ _ _ - _ _ - _ _\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(CSSTransitionGroup, {\n            transitionName: \"height-animation-item\",\n            transitionEnterTimeout: 500,\n            transitionLeaveTimeout: 1,\n            className: \"wrapper-animation\",\n            style: {\n              display: \"contents\"\n            },\n            children: this.state.isVerified === \"success\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    error: this.state.errors.find(function (value) {\n                      return value.param === \"email\";\n                    }),\n                    value: this.state.email,\n                    onChange: function onChange(e) {\n                      _this3.setState({\n                        email: e.target.value\n                      });\n                    },\n                    className: \"col-12\",\n                    placeholder: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    error: this.state.errors.find(function (value) {\n                      return value.param === \"lastName\";\n                    }),\n                    value: this.state.lastName,\n                    onChange: function onChange(e) {\n                      _this3.setState({\n                        lastName: e.target.value\n                      });\n                    },\n                    className: \"col-12\",\n                    placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 col-sm-6 mb-custom\",\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    error: this.state.errors.find(function (value) {\n                      return value.param === \"firstName\";\n                    }),\n                    value: this.state.firstName,\n                    onChange: function onChange(e) {\n                      _this3.setState({\n                        firstName: e.target.value\n                      });\n                    },\n                    placeholder: \"\\u0418\\u043C\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 col-sm-6\",\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"text\",\n                    error: this.state.errors.find(function (value) {\n                      return value.param === \"middleName\";\n                    }),\n                    value: this.state.middleName,\n                    onChange: function onChange(e) {\n                      _this3.setState({\n                        middleName: e.target.value\n                      });\n                    },\n                    placeholder: \"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"password\",\n                    style: {\n                      paddingRight: 50\n                    },\n                    error: this.state.errors.find(function (value) {\n                      return value.param === \"password\";\n                    }),\n                    value: this.state.password,\n                    onChange: function onChange(e) {\n                      _this3.setState({\n                        password: e.target.value\n                      });\n                    },\n                    className: \"isHover\",\n                    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-right f-12\",\n                children: [\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u044F\\u0441\\u044C, \\u0412\\u044B \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0430\\u0435\\u0442\\u0435\\u0441\\u044C \\u0441\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n                  to: this.props.settings.politicsPage,\n                  className: \"href f-12\",\n                  children: \"\\u043F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), \" \", \"\\u0438\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: this.props.settings.agreementPage,\n                  className: \"href f-12\",\n                  children: \"\\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0435\\u043D\\u0438\\u0435\\u043C \\u043E\\u0431 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0435 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 .\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"fill\",\n                  margin: \"0 0 0 auto\",\n                  paddingHorizontal: \"15px\",\n                  paddingVertical: \"8px\",\n                  onClick: function onClick() {\n                    _this3.register();\n                  },\n                  children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Register;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.settings.settings\n  };\n};\n\nexport default connect(mapStateToProps)(withCookies(Register));","map":{"version":3,"sources":["E:/SSR/pages/register.js"],"names":["React","Input","configApi","toast","withCookies","CSSTransitionGroup","Button","InputPhone","Link","connect","Register","type","country","email","firstName","middleName","lastName","phone","password","error","errors","isVerified","state","setState","isFetching","fetch","urlApi","method","headers","Accept","body","JSON","stringify","then","response","json","data","success","props","cookies","set","token","path","window","location","find","value","param","val","display","e","target","paddingRight","settings","politicsPage","agreementPage","register","Component","mapStateToProps"],"mappings":"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","sourcesContent":["// App\r\nimport React from \"react\";\r\nimport Input from \"../Elements/Input\";\r\nimport configApi from \"../config/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { withCookies } from \"react-cookie\";\r\n// Elements\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\nimport Button from \"../Elements/Button\";\r\nimport InputPhone from \"../Elements/InputPhone\";\r\n// Router\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Register extends React.Component {\r\n  state = {\r\n    type: \"cargo\",\r\n    country: 1,\r\n    email: \"\",\r\n    firstName: \"\",\r\n    middleName: \"\",\r\n    lastName: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n    error: false,\r\n    errors: [],\r\n    isVerified: false,\r\n  };\r\n\r\n  register() {\r\n    if (this.state.isVerified === \"success\") {\r\n      this.setState({ isFetching: true });\r\n      fetch(`${configApi.urlApi}/auth/register`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email: this.state.email,\r\n          phone: this.state.phone,\r\n          country: this.state.country,\r\n          type: this.state.type,\r\n          firstName: this.state.firstName,\r\n          middleName: this.state.middleName,\r\n          lastName: this.state.lastName,\r\n          password: this.state.password,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.error) {\r\n            if (data.error)\r\n              // data.errors.map((item) => {\r\n              //   toast.error(item.msg);\r\n              // });\r\n              this.setState({ error: true, errors: data.errors });\r\n          } else {\r\n            toast.success(\"Регистрация прошла успешно\");\r\n            this.props.cookies.set(\"apiToken\", data.token, {\r\n              path: \"/\",\r\n            });\r\n            window.location = \"/profile/info\";\r\n          }\r\n          this.setState({ isFetching: false });\r\n        });\r\n    } else toast.error(\"Подтвердите номер телефона\");\r\n  }\r\n\r\n  render() {\r\n    // let selectCountry = countryList.filter((item) => item.value !== 1);\r\n    return (\r\n      <div className=\"register-page\">\r\n        <h1 className=\"register-title\">Регистрация</h1>\r\n        <div className=\"register-form col-12 col-sm-9 col-md-6 col-lg-5 col-xl-4 mx-auto\">\r\n          <div className=\"row tabs justify-content-between\">\r\n            <div\r\n              className={`tab f-16 left-angle ${\r\n                this.state.type === \"carrier\" ? \"active \" : \"gray\"\r\n              }`}\r\n              onClick={() => {\r\n                this.setState({ type: \"carrier\" });\r\n              }}\r\n            >\r\n              Я Перевозчик\r\n            </div>\r\n            <div\r\n              className={`tab f-16 left-angle ${\r\n                this.state.type === \"cargo\" ? \"active\" : \"gray\"\r\n              }`}\r\n              onClick={() => {\r\n                this.setState({ type: \"cargo\" });\r\n              }}\r\n            >\r\n              Я Владелец груза\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"row\">\r\n            <div className=\"col-12 col-sm-6 d-flex  align-items-center\">\r\n              Страна:\r\n              <span\r\n                className={`simple_select_city f-17-only col text-center ${\r\n                  this.state.country === 1 ? `active` : ``\r\n                } ml-3`}\r\n                onClick={(val) => {\r\n                  this.setState({ country: 1 });\r\n                }}\r\n              >\r\n                Россия\r\n              </span>\r\n            </div>\r\n            <div className=\"col-12 col-sm-6\">\r\n              <Select\r\n                options={selectCountry}\r\n                placeholder=\"Другая\"\r\n                className=\"f-17-only\"\r\n                onChange={(val) => {\r\n                  this.setState({ country: val.value });\r\n                }}\r\n                value={\r\n                  selectCountry.find(\r\n                    (item) => item.value === this.state.country\r\n                  ) || null\r\n                }\r\n              />\r\n            </div>\r\n          </div> */}\r\n          <InputPhone\r\n            error={this.state.errors.find((value) => value.param === \"phone\")}\r\n            value={this.state.phone}\r\n            isVerified={this.state.isVerified}\r\n            phone={this.state.phone}\r\n            setVerified={(val) => {\r\n              this.setState({ isVerified: val });\r\n            }}\r\n            onChange={(phone) => {\r\n              this.setState({ phone });\r\n            }}\r\n            placeholder=\"+7 (_ _ _) _ _ _ - _ _ - _ _\"\r\n          />\r\n          <CSSTransitionGroup\r\n            transitionName=\"height-animation-item\"\r\n            transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={1}\r\n            className=\"wrapper-animation\"\r\n            style={{\r\n              display: \"contents\",\r\n            }}\r\n          >\r\n            {this.state.isVerified === \"success\" && (\r\n              <>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      error={this.state.errors.find(\r\n                        (value) => value.param === \"email\"\r\n                      )}\r\n                      value={this.state.email}\r\n                      onChange={(e) => {\r\n                        this.setState({ email: e.target.value });\r\n                      }}\r\n                      className=\"col-12\"\r\n                      placeholder=\"Email\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      error={this.state.errors.find(\r\n                        (value) => value.param === \"lastName\"\r\n                      )}\r\n                      value={this.state.lastName}\r\n                      onChange={(e) => {\r\n                        this.setState({ lastName: e.target.value });\r\n                      }}\r\n                      className=\"col-12\"\r\n                      placeholder=\"Фамилия\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 col-sm-6 mb-custom\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      error={this.state.errors.find(\r\n                        (value) => value.param === \"firstName\"\r\n                      )}\r\n                      value={this.state.firstName}\r\n                      onChange={(e) => {\r\n                        this.setState({ firstName: e.target.value });\r\n                      }}\r\n                      placeholder=\"Имя\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-12 col-sm-6\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      error={this.state.errors.find(\r\n                        (value) => value.param === \"middleName\"\r\n                      )}\r\n                      value={this.state.middleName}\r\n                      onChange={(e) => {\r\n                        this.setState({ middleName: e.target.value });\r\n                      }}\r\n                      placeholder=\"Отчество\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <Input\r\n                      type=\"password\"\r\n                      style={{ paddingRight: 50 }}\r\n                      error={this.state.errors.find(\r\n                        (value) => value.param === \"password\"\r\n                      )}\r\n                      value={this.state.password}\r\n                      onChange={(e) => {\r\n                        this.setState({ password: e.target.value });\r\n                      }}\r\n                      className=\"isHover\"\r\n                      placeholder=\"Пароль\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-right f-12\">\r\n                  Регистрируясь, Вы соглашаетесь с&nbsp;\r\n                  <Link\r\n                    to={this.props.settings.politicsPage}\r\n                    className=\"href f-12\"\r\n                  >\r\n                    политикой конфиденциальности\r\n                  </Link>{\" \"}\r\n                  и{\" \"}\r\n                  <Link\r\n                    to={this.props.settings.agreementPage}\r\n                    className=\"href f-12\"\r\n                  >\r\n                    соглашением об обработке персональных данных .\r\n                  </Link>\r\n                </p>\r\n                <div className=\"text-right\">\r\n                  <Button\r\n                    type=\"fill\"\r\n                    margin={\"0 0 0 auto\"}\r\n                    paddingHorizontal={\"15px\"}\r\n                    paddingVertical={\"8px\"}\r\n                    onClick={() => {\r\n                      this.register();\r\n                    }}\r\n                  >\r\n                    Регистрация\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </CSSTransitionGroup>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    settings: state.settings.settings,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(withCookies(Register));\r\n"]},"metadata":{},"sourceType":"module"}