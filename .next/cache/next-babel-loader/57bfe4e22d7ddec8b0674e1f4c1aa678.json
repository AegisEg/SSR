{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\Modal\\\\ReviewsFormModal.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n// App\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport settings from \"../config/settings.js\";\nimport CloseSVG from \"../img/close.svg\";\nimport ReviewItem from \"./items/ReviewItem.js\";\n\nvar ReviewsFormModal = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReviewsFormModal, _React$Component);\n\n  var _super = _createSuper(ReviewsFormModal);\n\n  function ReviewsFormModal(props) {\n    var _this;\n\n    _classCallCheck(this, ReviewsFormModal);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isOpen: false,\n      openIndex: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closePurgeForm\", function () {\n      _this.setState({\n        isOpen: false\n      });\n\n      document.removeEventListener(\"click\", _this.closeForm);\n    });\n\n    settings.stylesModals.content.padingBottom = \"37px\";\n    _this.closeForm = _this.closeForm.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ReviewsFormModal, [{\n    key: \"closeForm\",\n    value: function closeForm(e) {\n      if (e && document.getElementById(\"review-form\") && !document.getElementById(\"review-form\").contains(e.target)) {\n        this.setState({\n          isOpen: false\n        });\n        document.removeEventListener(\"click\", this.closeForm);\n      }\n    }\n  }, {\n    key: \"toogleform\",\n    value: function toogleform(e) {\n      if (!this.state.isOpen) document.addEventListener(\"click\", this.closeForm);else document.removeEventListener(\"click\", this.closeForm);\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: \"openForm\",\n    value: function openForm() {\n      this.setState({\n        isOpen: true\n      });\n      document.addEventListener(\"click\", this.closeForm);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.isOpen) {\n        var content = /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: this.props.reviewsItems.map(function (item, index) {\n            return /*#__PURE__*/_jsxDEV(ReviewItem, {\n              index: index,\n              close: _this2.closePurgeForm,\n              review: _this2.props.reviews.find(function (itemX) {\n                return itemX.user._id === item._id;\n              }),\n              article: _this2.props.article,\n              multiple: _this2.props.reviewsItems.length > 1,\n              open: function open(openIndex) {\n                _this2.setState({\n                  openIndex: openIndex\n                });\n              },\n              isOpen: _this2.state.openIndex === index,\n              userReview: item\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, _this2);\n          })\n        }, void 0, false);\n\n        if (this.props.onMobile) {\n          return /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: this.state.isOpen,\n            onRequestClose: this.closeForm,\n            className: \"reviews-modal\",\n            style: settings.stylesModals,\n            children: [content, /*#__PURE__*/_jsxDEV(CloseSVG, {\n              className: \"close-svg\",\n              onClick: this.closeForm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 11\n          }, this);\n        } else return /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"review-form\",\n          className: \"pop-block reviewsForm notAngle padding bottom\",\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this);\n      } else return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  }]);\n\n  return ReviewsFormModal;\n}(React.Component);\n\nexport default ReviewsFormModal;","map":{"version":3,"sources":["E:/SSR/Modal/ReviewsFormModal.js"],"names":["React","Modal","settings","CloseSVG","ReviewItem","ReviewsFormModal","props","isOpen","openIndex","setState","document","removeEventListener","closeForm","stylesModals","content","padingBottom","bind","e","getElementById","contains","target","state","addEventListener","reviewsItems","map","item","index","closePurgeForm","reviews","find","itemX","user","_id","article","length","onMobile","Component"],"mappings":"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","sourcesContent":["// App\r\nimport React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport settings from \"../config/settings.js\";\r\nimport CloseSVG from \"../img/close.svg\";\r\nimport ReviewItem from \"./items/ReviewItem.js\";\r\nclass ReviewsFormModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    settings.stylesModals.content.padingBottom = \"37px\";\r\n    this.closeForm = this.closeForm.bind(this);\r\n  }\r\n  state = {\r\n    isOpen: false,\r\n    openIndex: 0,\r\n  };\r\n  closeForm(e) {\r\n    if (\r\n      e &&\r\n      document.getElementById(\"review-form\") &&\r\n      !document.getElementById(\"review-form\").contains(e.target)\r\n    ) {\r\n      this.setState({ isOpen: false });\r\n      document.removeEventListener(\"click\", this.closeForm);\r\n    }\r\n  }\r\n  closePurgeForm = () => {\r\n    this.setState({ isOpen: false });\r\n    document.removeEventListener(\"click\", this.closeForm);\r\n  };\r\n  toogleform(e) {\r\n    if (!this.state.isOpen) document.addEventListener(\"click\", this.closeForm);\r\n    else document.removeEventListener(\"click\", this.closeForm);\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n  openForm() {\r\n    this.setState({ isOpen: true });\r\n    document.addEventListener(\"click\", this.closeForm);\r\n  }\r\n  render() {\r\n    if (this.state.isOpen) {\r\n      let content = (\r\n        <>\r\n          {this.props.reviewsItems.map((item, index) => {\r\n            return (\r\n              <ReviewItem\r\n                key={index}\r\n                index={index}\r\n                close={this.closePurgeForm}\r\n                review={this.props.reviews.find(\r\n                  (itemX) => itemX.user._id === item._id\r\n                )}\r\n                article={this.props.article}\r\n                multiple={this.props.reviewsItems.length > 1}\r\n                open={(openIndex) => {\r\n                  this.setState({ openIndex });\r\n                }}\r\n                isOpen={this.state.openIndex === index}\r\n                userReview={item}\r\n              />\r\n            );\r\n          })}\r\n        </>\r\n      );\r\n      if (this.props.onMobile) {\r\n        return (\r\n          <Modal\r\n            isOpen={this.state.isOpen}\r\n            onRequestClose={this.closeForm}\r\n            className=\"reviews-modal\"\r\n            style={settings.stylesModals}\r\n          >\r\n            {content}\r\n            <CloseSVG className=\"close-svg\" onClick={this.closeForm}></CloseSVG>\r\n          </Modal>\r\n        );\r\n      } else\r\n        return (\r\n          <div\r\n            id=\"review-form\"\r\n            className=\"pop-block reviewsForm notAngle padding bottom\"\r\n          >\r\n            {content}\r\n          </div>\r\n        );\r\n    } else return <></>;\r\n  }\r\n}\r\n\r\nexport default ReviewsFormModal;\r\n"]},"metadata":{},"sourceType":"module"}