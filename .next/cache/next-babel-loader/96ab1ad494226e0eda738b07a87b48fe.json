{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { DIALOGS_SET_NOREAD } from \"../constants\";\nvar INITIAL_STATE = {\n  dialogsALL: {\n    isFetching: true,\n    dialogs: [],\n    canLoad: false,\n    isGetted: false,\n    noReadCount: 0\n  }\n};\n\nvar dialogs = function dialogs() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case DIALOGS_SET_NOREAD:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          dialogsOrder: _objectSpread(_objectSpread({}, state.dialogsOrder), {}, {\n            noReadCount: action.payload.dialogsCount.order ? action.payload.dialogsCount.order.count : 0\n          }),\n          dialogsUser: _objectSpread(_objectSpread({}, state.dialogsUser), {}, {\n            noReadCount: action.payload.dialogsCount.user ? action.payload.dialogsCount.user.count : 0\n          }),\n          dialogsALL: _objectSpread(_objectSpread({}, state.dialogsALL), {}, {\n            noReadCount: (action.payload.dialogsCount.user ? action.payload.dialogsCount.user.count : 0) + (action.payload.dialogsCount.order ? action.payload.dialogsCount.order.count : 0)\n          })\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default dialogs;","map":{"version":3,"sources":["E:/SSR/redux/reducers/dialogs.js"],"names":["DIALOGS_SET_NOREAD","INITIAL_STATE","dialogsALL","isFetching","dialogs","canLoad","isGetted","noReadCount","state","action","type","dialogsOrder","payload","dialogsCount","order","count","dialogsUser","user"],"mappings":";;;;;;AAAA,SAASA,kBAAT,QAAmC,cAAnC;AAEA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,UAAU,EAAE,IADF;AAEVC,IAAAA,OAAO,EAAE,EAFC;AAGVC,IAAAA,OAAO,EAAE,KAHC;AAIVC,IAAAA,QAAQ,EAAE,KAJA;AAKVC,IAAAA,WAAW,EAAE;AALH;AADQ,CAAtB;;AAUA,IAAMH,OAAO,GAAG,SAAVA,OAAU,GAAmC;AAAA,MAAlCI,KAAkC,uEAA1BP,aAA0B;AAAA,MAAXQ,MAAW;;AACjD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,kBAAL;AAAyB;AACvB,+CACKQ,KADL;AAEEG,UAAAA,YAAY,kCACPH,KAAK,CAACG,YADC;AAEVJ,YAAAA,WAAW,EAAEE,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BC,KAA5B,GACTL,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BC,KAA5B,CAAkCC,KADzB,GAET;AAJM,YAFd;AAQEC,UAAAA,WAAW,kCACNR,KAAK,CAACQ,WADA;AAETT,YAAAA,WAAW,EAAEE,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BI,IAA5B,GACTR,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BI,IAA5B,CAAiCF,KADxB,GAET;AAJK,YARb;AAcEb,UAAAA,UAAU,kCACLM,KAAK,CAACN,UADD;AAERK,YAAAA,WAAW,EACT,CAACE,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BI,IAA5B,GACGR,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BI,IAA5B,CAAiCF,KADpC,GAEG,CAFJ,KAGCN,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BC,KAA5B,GACGL,MAAM,CAACG,OAAP,CAAeC,YAAf,CAA4BC,KAA5B,CAAkCC,KADrC,GAEG,CALJ;AAHM;AAdZ;AAyBD;;AAED;AACE,aAAOP,KAAP;AA9BJ;AAgCD,CAjCD;;AAmCA,eAAeJ,OAAf","sourcesContent":["import { DIALOGS_SET_NOREAD } from \"../constants\";\r\n\r\nconst INITIAL_STATE = {\r\n  dialogsALL: {\r\n    isFetching: true,\r\n    dialogs: [],\r\n    canLoad: false,\r\n    isGetted: false,\r\n    noReadCount: 0,\r\n  },\r\n};\r\n\r\nconst dialogs = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case DIALOGS_SET_NOREAD: {\r\n      return {\r\n        ...state,\r\n        dialogsOrder: {\r\n          ...state.dialogsOrder,\r\n          noReadCount: action.payload.dialogsCount.order\r\n            ? action.payload.dialogsCount.order.count\r\n            : 0,\r\n        },\r\n        dialogsUser: {\r\n          ...state.dialogsUser,\r\n          noReadCount: action.payload.dialogsCount.user\r\n            ? action.payload.dialogsCount.user.count\r\n            : 0,\r\n        },\r\n        dialogsALL: {\r\n          ...state.dialogsALL,\r\n          noReadCount:\r\n            (action.payload.dialogsCount.user\r\n              ? action.payload.dialogsCount.user.count\r\n              : 0) +\r\n            (action.payload.dialogsCount.order\r\n              ? action.payload.dialogsCount.order.count\r\n              : 0),\r\n        },\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogs;\r\n"]},"metadata":{},"sourceType":"module"}