{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\ArticlesElements\\\\Articles.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// App\nimport React from \"react\"; // Article\n\nimport Article from \"./Article\";\nimport Pagination from \"../Elements/Pagination\";\nimport ArticleHeader from \"./Partials/ArticleHeader\";\nimport configApi from \"../config/api\";\nimport Loading from \"../Elements/Loading\";\nimport { CSSTransitionGroup } from \"react-transition-group\";\n\nclass Articles extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      articles: [],\n      currentPage: 0,\n      pageCount: false,\n      isFething: false\n    });\n  }\n\n  getAricles(page = 0) {\n    this.setState({\n      isFething: true\n    }, () => {\n      fetch(`${configApi.urlApi}/api/article/getArticles`, {\n        method: \"post\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          filter: this.props.filter,\n          page: page\n        })\n      }).then(response => response.json()).then(data => {\n        if (data.articles) {\n          this.setState({\n            pageCount: data.pageAll,\n            currentPage: page,\n            articles: data.articles,\n            isFething: false\n          });\n        }\n      });\n    });\n  }\n\n  setPage(selected) {\n    if (selected !== this.state.currentPage) {\n      this.getAricles(selected);\n    }\n  }\n\n  render() {\n    // console.log(this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"articles-block\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: this.props.aega\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Articles;","map":{"version":3,"sources":["E:/SSR/ArticlesElements/Articles.js"],"names":["React","Article","Pagination","ArticleHeader","configApi","Loading","CSSTransitionGroup","Articles","Component","articles","currentPage","pageCount","isFething","getAricles","page","setState","fetch","urlApi","method","headers","Accept","body","JSON","stringify","filter","props","then","response","json","data","pageAll","setPage","selected","state","render","aega"],"mappings":";;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,kBAAT,QAAmC,wBAAnC;;AAEA,MAAMC,QAAN,SAAuBP,KAAK,CAACQ,SAA7B,CAAuC;AAAA;AAAA;;AAAA,mCAC7B;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,WAAW,EAAE,CAFP;AAGNC,MAAAA,SAAS,EAAE,KAHL;AAINC,MAAAA,SAAS,EAAE;AAJL,KAD6B;AAAA;;AAOrCC,EAAAA,UAAU,CAACC,IAAI,GAAG,CAAR,EAAW;AACnB,SAAKC,QAAL,CAAc;AAAEH,MAAAA,SAAS,EAAE;AAAb,KAAd,EAAmC,MAAM;AACvCI,MAAAA,KAAK,CAAE,GAAEZ,SAAS,CAACa,MAAO,0BAArB,EAAgD;AACnDC,QAAAA,MAAM,EAAE,MAD2C;AAEnDC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAF0C;AAMnDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWD,MADA;AAEnBV,UAAAA,IAAI,EAAEA;AAFa,SAAf;AAN6C,OAAhD,CAAL,CAWGY,IAXH,CAWSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAXtB,EAYGF,IAZH,CAYSG,IAAD,IAAU;AACd,YAAIA,IAAI,CAACpB,QAAT,EAAmB;AACjB,eAAKM,QAAL,CAAc;AACZJ,YAAAA,SAAS,EAAEkB,IAAI,CAACC,OADJ;AAEZpB,YAAAA,WAAW,EAAEI,IAFD;AAGZL,YAAAA,QAAQ,EAAEoB,IAAI,CAACpB,QAHH;AAIZG,YAAAA,SAAS,EAAE;AAJC,WAAd;AAMD;AACF,OArBH;AAsBD,KAvBD;AAwBD;;AACDmB,EAAAA,OAAO,CAACC,QAAD,EAAW;AAChB,QAAIA,QAAQ,KAAK,KAAKC,KAAL,CAAWvB,WAA5B,EAAyC;AACvC,WAAKG,UAAL,CAAgBmB,QAAhB;AACD;AACF;;AAEDE,EAAAA,MAAM,GAAG;AACP;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACE;AAAA,kBAAO,KAAKT,KAAL,CAAWU;AAAlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAqCD;;AA9EoC;;AAiFvC,eAAe5B,QAAf","sourcesContent":["// App\r\nimport React from \"react\";\r\n\r\n// Article\r\nimport Article from \"./Article\";\r\nimport Pagination from \"../Elements/Pagination\";\r\nimport ArticleHeader from \"./Partials/ArticleHeader\";\r\nimport configApi from \"../config/api\";\r\nimport Loading from \"../Elements/Loading\";\r\nimport { CSSTransitionGroup } from \"react-transition-group\";\r\n\r\nclass Articles extends React.Component {\r\n  state = {\r\n    articles: [],\r\n    currentPage: 0,\r\n    pageCount: false,\r\n    isFething: false,\r\n  };\r\n  getAricles(page = 0) {\r\n    this.setState({ isFething: true }, () => {\r\n      fetch(`${configApi.urlApi}/api/article/getArticles`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          filter: this.props.filter,\r\n          page: page,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.articles) {\r\n            this.setState({\r\n              pageCount: data.pageAll,\r\n              currentPage: page,\r\n              articles: data.articles,\r\n              isFething: false,\r\n            });\r\n          }\r\n        });\r\n    });\r\n  }\r\n  setPage(selected) {\r\n    if (selected !== this.state.currentPage) {\r\n      this.getAricles(selected);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props);\r\n    return (\r\n      <div className=\"articles-block\">\r\n        <span>{this.props.aega}</span>\r\n        {/* <ArticleHeader></ArticleHeader>\r\n        <Loading isLoading={this.state.isFething}></Loading>\r\n        <CSSTransitionGroup\r\n          transitionName=\"height-animation-item\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={1}\r\n          style={{\r\n            display: \"contents\",\r\n          }}\r\n        >\r\n          {this.state.articles.map((article, i) => {\r\n            return (\r\n              <Article\r\n                IsManage={this.props.isManage || article.status === 2}\r\n                notControl={this.props.notControl}\r\n                notLink={this.props.onlyPublic && article.status !== 2}\r\n                key={i}\r\n                article={article}\r\n              />\r\n            );\r\n          })}\r\n        </CSSTransitionGroup>\r\n        {!this.state.articles.length && (\r\n          <div className=\"text-center py-3\">Записей не найдено</div>\r\n        )}\r\n        {!!this.state.articles.length && (\r\n          <Pagination\r\n            currentPage={this.state.currentPage}\r\n            pageCount={this.state.pageCount - 1}\r\n            onPageChange={this.setPage.bind(this)}\r\n          />\r\n        )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Articles;\r\n"]},"metadata":{},"sourceType":"module"}