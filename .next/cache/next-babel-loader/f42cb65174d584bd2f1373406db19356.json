{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\SSR\\\\Modal\\\\ReviewsFormModal.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// App\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport settings from \"../config/settings.js\";\nimport CloseSVG from \"../img/close.svg\";\nimport ReviewItem from \"./items/ReviewItem.js\";\n\nclass ReviewsFormModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      isOpen: false,\n      openIndex: 0\n    });\n\n    _defineProperty(this, \"closePurgeForm\", () => {\n      this.setState({\n        isOpen: false\n      });\n      document.removeEventListener(\"click\", this.closeForm);\n    });\n\n    settings.stylesModals.content.padingBottom = \"37px\";\n    this.closeForm = this.closeForm.bind(this);\n  }\n\n  closeForm(e) {\n    if (e && document.getElementById(\"review-form\") && !document.getElementById(\"review-form\").contains(e.target)) {\n      this.setState({\n        isOpen: false\n      });\n      document.removeEventListener(\"click\", this.closeForm);\n    }\n  }\n\n  toogleform(e) {\n    if (!this.state.isOpen) document.addEventListener(\"click\", this.closeForm);else document.removeEventListener(\"click\", this.closeForm);\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  openForm() {\n    this.setState({\n      isOpen: true\n    });\n    document.addEventListener(\"click\", this.closeForm);\n  }\n\n  render() {\n    if (this.state.isOpen) {\n      let content = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: this.props.reviewsItems.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(ReviewItem, {\n            index: index,\n            close: this.closePurgeForm,\n            review: this.props.reviews.find(itemX => itemX.user._id === item._id),\n            article: this.props.article,\n            multiple: this.props.reviewsItems.length > 1,\n            open: openIndex => {\n              this.setState({\n                openIndex\n              });\n            },\n            isOpen: this.state.openIndex === index,\n            userReview: item\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false);\n\n      if (this.props.onMobile) {\n        return /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: this.state.isOpen,\n          onRequestClose: this.closeForm,\n          className: \"reviews-modal\",\n          style: settings.stylesModals,\n          children: [content, /*#__PURE__*/_jsxDEV(CloseSVG, {\n            className: \"close-svg\",\n            onClick: this.closeForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this);\n      } else return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"review-form\",\n        className: \"pop-block reviewsForm notAngle padding bottom\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this);\n    } else return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n}\n\nexport default ReviewsFormModal;","map":{"version":3,"sources":["E:/SSR/Modal/ReviewsFormModal.js"],"names":["React","Modal","settings","CloseSVG","ReviewItem","ReviewsFormModal","Component","constructor","props","isOpen","openIndex","setState","document","removeEventListener","closeForm","stylesModals","content","padingBottom","bind","e","getElementById","contains","target","toogleform","state","addEventListener","openForm","render","reviewsItems","map","item","index","closePurgeForm","reviews","find","itemX","user","_id","article","length","onMobile"],"mappings":"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","sourcesContent":["// App\r\nimport React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport settings from \"../config/settings.js\";\r\nimport CloseSVG from \"../img/close.svg\";\r\nimport ReviewItem from \"./items/ReviewItem.js\";\r\nclass ReviewsFormModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    settings.stylesModals.content.padingBottom = \"37px\";\r\n    this.closeForm = this.closeForm.bind(this);\r\n  }\r\n  state = {\r\n    isOpen: false,\r\n    openIndex: 0,\r\n  };\r\n  closeForm(e) {\r\n    if (\r\n      e &&\r\n      document.getElementById(\"review-form\") &&\r\n      !document.getElementById(\"review-form\").contains(e.target)\r\n    ) {\r\n      this.setState({ isOpen: false });\r\n      document.removeEventListener(\"click\", this.closeForm);\r\n    }\r\n  }\r\n  closePurgeForm = () => {\r\n    this.setState({ isOpen: false });\r\n    document.removeEventListener(\"click\", this.closeForm);\r\n  };\r\n  toogleform(e) {\r\n    if (!this.state.isOpen) document.addEventListener(\"click\", this.closeForm);\r\n    else document.removeEventListener(\"click\", this.closeForm);\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n  openForm() {\r\n    this.setState({ isOpen: true });\r\n    document.addEventListener(\"click\", this.closeForm);\r\n  }\r\n  render() {\r\n    if (this.state.isOpen) {\r\n      let content = (\r\n        <>\r\n          {this.props.reviewsItems.map((item, index) => {\r\n            return (\r\n              <ReviewItem\r\n                key={index}\r\n                index={index}\r\n                close={this.closePurgeForm}\r\n                review={this.props.reviews.find(\r\n                  (itemX) => itemX.user._id === item._id\r\n                )}\r\n                article={this.props.article}\r\n                multiple={this.props.reviewsItems.length > 1}\r\n                open={(openIndex) => {\r\n                  this.setState({ openIndex });\r\n                }}\r\n                isOpen={this.state.openIndex === index}\r\n                userReview={item}\r\n              />\r\n            );\r\n          })}\r\n        </>\r\n      );\r\n      if (this.props.onMobile) {\r\n        return (\r\n          <Modal\r\n            isOpen={this.state.isOpen}\r\n            onRequestClose={this.closeForm}\r\n            className=\"reviews-modal\"\r\n            style={settings.stylesModals}\r\n          >\r\n            {content}\r\n            <CloseSVG className=\"close-svg\" onClick={this.closeForm}></CloseSVG>\r\n          </Modal>\r\n        );\r\n      } else\r\n        return (\r\n          <div\r\n            id=\"review-form\"\r\n            className=\"pop-block reviewsForm notAngle padding bottom\"\r\n          >\r\n            {content}\r\n          </div>\r\n        );\r\n    } else return <></>;\r\n  }\r\n}\r\n\r\nexport default ReviewsFormModal;\r\n"]},"metadata":{},"sourceType":"module"}